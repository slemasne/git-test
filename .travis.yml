language: python
python:
  - "3.6"      # current default Python on Travis CI

# command to install dependencies
install:
  - pip install -r requirements.txt

branches:
  only:
  - /^feature.*$/
  - master
  
jobs:
  include:
    - stage: Run the Python black formatter
      if: branch != master
      script:
        - black .       
    - stage: Commit changes from black to branch
      if: branch != master
      script:
        - bash new_commit_with_black.sh

after_success:
  - black_formatter_check.sh
